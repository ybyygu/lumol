<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `EnergyCache` struct in crate `lumol`."><meta name="keywords" content="rust, rustlang, rust-lang, EnergyCache"><title>lumol::sys::EnergyCache - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css"><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script src="../../storage.js"></script><!-- Load KaTeX (https://katex.org/) to render equations -->

<link rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.css"
      integrity="sha384-D+9gmBxUQogRLqvARvNLmA9hS2x//eK1FhVb9PiU86gmcrBrJAQT8okdJ4LMp2uv"
      crossorigin="anonymous">

<script defer
        src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/katex.min.js"
        integrity="sha384-483A6DwYfKeDa0Q52fJmxFXkcPCFfnXMoXblOkJ4JcA8zATN6Tm78UNL72AKk+0O"
        crossorigin="anonymous">
</script>

<script defer
        src="https://cdn.jsdelivr.net/npm/katex@0.10.0-rc.1/dist/contrib/auto-render.min.js"
        integrity="sha384-yACMu8JWxKzSp/C1YV86pzGiQ/l1YUfE8oPuahJQxzehAjEt2GiQuy/BIvl9KyeF"
        crossorigin="anonymous"
        onload="renderMathInElement(document.body, {delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false}
        ]});">
</script>

</head><body class="rustdoc struct"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><p class='location'>Struct EnergyCache</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#methods">Methods</a><div class="sidebar-links"><a href="#method.new">new</a><a href="#method.init">init</a><a href="#method.energy">energy</a><a href="#method.update">update</a><a href="#method.unused">unused</a><a href="#method.move_molecule_cost">move_molecule_cost</a><a href="#method.move_all_molecules_cost">move_all_molecules_cost</a></div><a class="sidebar-title" href="#synthetic-implementations">Auto Trait Implementations</a><div class="sidebar-links"><a href="#impl-Send">Send</a><a href="#impl-Sync">Sync</a></div></div><p class='location'><a href='../index.html'>lumol</a>::<wbr><a href='index.html'>sys</a></p><script>window.sidebarCurrent = {name: 'EnergyCache', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form js-only"><div class="search-container"><input class="search-input" name="search" autocomplete="off" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='in-band'>Struct <a href='../index.html'>lumol</a>::<wbr><a href='index.html'>sys</a>::<wbr><a class="struct" href=''>EnergyCache</a></span><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span></span></h1><div class="docblock type-decl"><pre class='rust struct'>pub struct EnergyCache { /* fields omitted */ }</pre></div><div class='docblock'><p>This is a cache for energy computation.</p>
<p>Cache integrity is left up to the user of this structure: any function with
<code>update_</code> prefix must be called as needed to ensure cache consistency.</p>
</div><h2 id='methods' class='small-section-header'>Methods<a href='#methods' class='anchor'></a></h2><h3 id='impl' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl <a class="struct" href="../../lumol/sys/struct.EnergyCache.html" title="struct lumol::sys::EnergyCache">EnergyCache</a></code><a href='#impl' class='anchor'></a></span></td><td><span class='out-of-band'></span></td></tr></tbody></table></h3><div class='impl-items'><h4 id='method.new' class="method"><span id='new.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.new' class='fnname'>new</a>() -&gt; <a class="struct" href="../../lumol/sys/struct.EnergyCache.html" title="struct lumol::sys::EnergyCache">EnergyCache</a></code></td><td></td></tr></tbody></table></span></h4><div class='docblock'><p>Create a new empty energy cache.</p>
</div><h4 id='method.init' class="method"><span id='init.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.init' class='fnname'>init</a>(&amp;mut self, system: &amp;<a class="struct" href="../../lumol/sys/struct.System.html" title="struct lumol::sys::System">System</a>)</code></td><td></td></tr></tbody></table></span></h4><div class='docblock'><p>Initialize the cache to be used with <code>system</code>. After a call to this
function, the cache is only usable with the same system. To change
the associated system, one must call this function again.</p>
</div><h4 id='method.energy' class="method"><span id='energy.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.energy' class='fnname'>energy</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.f64.html">f64</a></code></td><td></td></tr></tbody></table></span></h4><div class='docblock'><p>Get the cached energy</p>
</div><h4 id='method.update' class="method"><span id='update.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.update' class='fnname'>update</a>(&amp;mut self, system: &amp;mut <a class="struct" href="../../lumol/sys/struct.System.html" title="struct lumol::sys::System">System</a>)</code></td><td></td></tr></tbody></table></span></h4><div class='docblock'><p>Update the cache after a call to a <code>EnergyCache::*_cost</code> function or
<code>EnergyCache::unused</code>.</p>
</div><h4 id='method.unused' class="method"><span id='unused.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.unused' class='fnname'>unused</a>(&amp;mut self)</code></td><td></td></tr></tbody></table></span></h4><div class='docblock'><p>This function should be called whenever the cache is not used, but one
still want it to be updated. Future call to <code>EnergyCache::update</code> will
recompute the full cache.</p>
</div></div><h3 id='impl-1' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl <a class="struct" href="../../lumol/sys/struct.EnergyCache.html" title="struct lumol::sys::EnergyCache">EnergyCache</a></code><a href='#impl-1' class='anchor'></a></span></td><td><span class='out-of-band'></span></td></tr></tbody></table></h3><div class='impl-items'><h4 id='method.move_molecule_cost' class="method"><span id='move_molecule_cost.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.move_molecule_cost' class='fnname'>move_molecule_cost</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;system: &amp;<a class="struct" href="../../lumol/sys/struct.System.html" title="struct lumol::sys::System">System</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;molecule_id: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;new_positions: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="struct" href="../../lumol/types/struct.Vector3D.html" title="struct lumol::types::Vector3D">Vector3D</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a><br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.f64.html">f64</a></code></td><td></td></tr></tbody></table></span></h4><div class='docblock'><p>Get the cost of moving a rigid molecule at <code>molecule_id</code> in the system
to <code>new_positions</code>.</p>
<p>This function <strong><em>DOES NOT</em></strong> update the cache, the <code>update</code> function
MUST be called if the particles are effectively moved.</p>
</div><h4 id='method.move_all_molecules_cost' class="method"><span id='move_all_molecules_cost.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.move_all_molecules_cost' class='fnname'>move_all_molecules_cost</a>(&amp;mut self, system: &amp;<a class="struct" href="../../lumol/sys/struct.System.html" title="struct lumol::sys::System">System</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.f64.html">f64</a></code></td><td></td></tr></tbody></table></span></h4><div class='docblock'><p>Return the cost for moving all <strong>rigid</strong> molecules of the system.</p>
<p>This function is intended for use when all the molecules in the system
are moved rigidly, for example when resizing the system in NPT
Monte Carlo. It computes energy changes due to:</p>
<ul>
<li>non bonded pairs interactions;</li>
<li>Coulomb interactions;</li>
<li>global interactions;</li>
</ul>
<p>It <strong>DOES NOT</strong> recompute bonds, angles and dihedral interactions. You
must not use this function when the intramolecular configuration
changed.</p>
<p>This function <strong><em>DOES NOT</em></strong> update the cache, the <code>update</code> function
MUST be called if the molecules are effectively moved.</p>
</div></div><h2 id='synthetic-implementations' class='small-section-header'>Auto Trait Implementations<a href='#synthetic-implementations' class='anchor'></a></h2><div id='synthetic-implementations-list'><h3 id='impl-Send' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="../../lumol/sys/struct.EnergyCache.html" title="struct lumol::sys::EnergyCache">EnergyCache</a></code><a href='#impl-Send' class='anchor'></a></span></td><td><span class='out-of-band'></span></td></tr></tbody></table></h3><div class='impl-items'></div><h3 id='impl-Sync' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="../../lumol/sys/struct.EnergyCache.html" title="struct lumol::sys::EnergyCache">EnergyCache</a></code><a href='#impl-Sync' class='anchor'></a></span></td><td><span class='out-of-band'></span></td></tr></tbody></table></h3><div class='impl-items'></div></div></section><section id="search" class="content hidden"></section><section class="footer"></section><aside id="help" class="hidden"><div><h1 class="hidden">Help</h1><div class="shortcuts"><h2>Keyboard Shortcuts</h2><dl><dt><kbd>?</kbd></dt><dd>Show this help dialog</dd><dt><kbd>S</kbd></dt><dd>Focus the search field</dd><dt><kbd>↑</kbd></dt><dd>Move up in search results</dd><dt><kbd>↓</kbd></dt><dd>Move down in search results</dd><dt><kbd>↹</kbd></dt><dd>Switch tab</dd><dt><kbd>&#9166;</kbd></dt><dd>Go to active search result</dd><dt><kbd>+</kbd></dt><dd>Expand all sections</dd><dt><kbd>-</kbd></dt><dd>Collapse all sections</dd></dl></div><div class="infos"><h2>Search Tricks</h2><p>Prefix searches with a type followed by a colon (e.g. <code>fn:</code>) to restrict the search to a given type.</p><p>Accepted types are: <code>fn</code>, <code>mod</code>, <code>struct</code>, <code>enum</code>, <code>trait</code>, <code>type</code>, <code>macro</code>, and <code>const</code>.</p><p>Search functions by type signature (e.g. <code>vec -> usize</code> or <code>* -> vec</code>)</p><p>Search multiple things at once by splitting your query with comma (e.g. <code>str,u8</code> or <code>String,struct:Vec,test</code>)</p></div></div></aside><script>window.rootPath = "../../";window.currentCrate = "lumol";</script><script src="../../aliases.js"></script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>